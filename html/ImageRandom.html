<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="utf-8">
  <title></title>
</head>

<body>
  <div id="imageContainer"></div>

  <script>
    var d = new Date()
    var year = d.getFullYear()
    var month = d.getMonth() + 1
    var date = d.getDate()
    if (month < 10)
      month = '0' + month
    var img = document.createElement("img")
    var num = 1, numPrv = 2;

    function generateImg() {
      while (num == numPrv) {
        num = parseInt(Math.random() * date) + 1
      }
      numPrv = num;

      console.log(num)
      if (num < 10)
        num = '0' + num
      img.src = `https://raw.githubusercontent.com/ysme1/BingWallpapers/main/wallpapers/${year}/${month}/${year}${month}${num}.jpg`

      imageContainer.innerHTML = ""
      imageContainer.appendChild(img)
    }

    generateImg()
  </script>


  <script>
    img.addEventListener('click', function () {
      generateImg()
    })
  </script>
</body>

</html>